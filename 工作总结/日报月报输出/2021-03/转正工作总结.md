# 转正工作总结

- 姓名：pinhenzhang(张恒)👨
- 所在组：测试开发一组
- 导师: rimon

---

## 简单工作经历

2008~2020年，在华为一直从事效能工具开发💻

---

- 自动化测试工具开发(桌面/Web/服务端)
- CI构建工具开发
- DevOps工具开发

---

## 主要工作

1. 基座微服务化
2. 基座适配QCI SaaS化

---

### 基座微服务化

--- 

### 背景

由于xxx问题，需要yyy

---

TODO: 微服务化示意图

- coding-app-notify服务
- 顺带实现了简单的coding全局公告功能

---

### 具体实施

---

### 不同的方案

everything has tradeoff

---

### 基座适配QCI SaaS化

---

### 背景

由于xxx，需要yyy

---

### 适配层

计算机科学领域的任何问题都可以通过增加一个间接的中间层来解决

---

gRPC适配层

图

---

#### 优点/缺点

- 优点1：
- 优点2：
- ❌缺点1：临时性解决方案
- ❌缺点2：有部分接口存在性能问题

---

### 困难/改进

1. Coding SaaS遗留代码问题
2. 发布调测效率低
3. SaaS化问题

---

#### Coding SaaS遗留代码

- 很多代码在OA版本已经不适用，但是没有删除（前端/后端特别是基座）

---
 
##### 代码量

```
───────────────────────────────────────────────────────────────────────────
Language                 Files       Lines     Blanks    Comments      Code
───────────────────────────────────────────────────────────────────────────
Java                      1977      203456      31943       18067    153446
Markdown                    23        1114        342           0       772
Properties File              4        2812        245         246      2321
Gradle                       1         130         16           2       112
License                      1          19          3           0        16
Plain Text                   1          70          0           0        70
Shell                        1         101         10           2        89
XML                          1         777         90          44       643
gitignore                    1           1          1           0         0
───────────────────────────────────────────────────────────────────────────
Total                     2010      208480      32650       18361    157469
───────────────────────────────────────────────────────────────────────────
```

---

#### 发布调测效率低

- 当前testing只能单分支发布
- 线上测试环境经常被别人冲掉
- 前端/后端都存在此问题，调测效率低

---

#### 问题本质

- 多个功能特性并行开发，都想进行测试
- 不支持自动集成分支模式

---

考虑在流水线中引入发布区概念

---

#### SaaS化问题

1. 原子能力的提炼
2. 原子能力尽可能自满足
3. 适配层问题

---

网关为例：如果将逻辑放到QCI自身服务中，是否适配部署会简单很多？

---


### 未来规划

1. qci支持saas完善
2. 原子能力提取

---

#### QCI支持SaaS进一步完善

当前采用适配器只是短期方案，长期方案来看OA和SaaS版本底座尽量统一，减少差异化的部分。

---

#### 原子能力提取

OA版本优秀能力原子化

- 静态代码检查

---

#### 开源漏洞扫描能力

在CI构建阶段，根据当前的构建工具信息，识别依赖的三方库是否有有漏洞。

- DevSecOps的基础能力之一
- 仅扫描依赖库，不扫描代码
- 上家公司/Gitlab/Github都具备此能力