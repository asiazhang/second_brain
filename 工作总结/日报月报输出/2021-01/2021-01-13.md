# coding-dev代码学习

将coding-dev的代码克隆到本地，发现gradle初次引入依赖包花了非常多的时间，看了一下coding-oa的后台好像是个单体仓库，将所有后台的代码都放在这里。我的个人经验是，单体仓库对开发人员的心智负担太大了，对IDE的负担也打，最好能限制下。如果担心公共代码的问题，可以提取为maven二方库，放到内网maven仓库中。

准备看下最终部署的应用有多少个。从项目中来看有一个测试环境的`docker-compose`文件，看看最终需要启动多少个容器。

---

## 上午 11:40
发现coding的后端确实是一个单体应用，只用了一个容器启动，依赖了一些其他基础设施：

- mysql
- redis
- rabbitmq
- ssdb
- nginx
- influxdb

## 下午 04:15
经过scc分析，仅java代码就差不多70万行。而且包含非常多个模块。跟kingkongwu(吴金刚)沟通后，当前的单体应用存在以下问题，急需改造：

1. `coding-core`里面功能太多，对外提供几百个API，经常出现某个API发生问题导致整个主站无法使用情况。
2. 模块依赖不合理，存在循环依赖情况，需要优化
3. 缺少日志，定位困难

看了文档之后再进行进一步总结。